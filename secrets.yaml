---
apiVersion: v1
kind: Secret
metadata:
  name: kubeapi-certs
  namespace: pyroscope
data:
  # Extract from admin kubeconfig
  tls.crt: |
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lJTEZSS0xqYmsyUGN3RFFZSktvWklodmNOQVFFTEJRQXdOakVTTUJBR0ExVUUKQ3hNSmIzQmxibk5vYVdaME1TQXdIZ1lEVlFRREV4ZGhaRzFwYmkxcmRXSmxZMjl1Wm1sbkxYTnBaMjVsY2pBZQpGdzB5TXpFeE1UZ3dPRFUyTWpWYUZ3MHpNekV4TVRVd09EVTJNalZhTURBeEZ6QVZCZ05WQkFvVERuTjVjM1JsCmJUcHRZWE4wWlhKek1SVXdFd1lEVlFRREV3eHplWE4wWlcwNllXUnRhVzR3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUUMrcDJoSEV5UlRHdUZZdlo2VDVTTUdyMk0wREc0SzZidTZoZzJSYjhTSApZRXdJTUFNMTZVb1ZqWmVTcG9vVzF5WmtubnVvZ2NLeGkxZytTZUI3VkJYaWpWQnAwdTcrejFjMmRqRC9vUlJRCmNIK3ljREoyT1hScVJIYkdONjJKajBLYjNnUWFTVmxSRVp3V1JtT1o1TktneU90WDZERU5zUUlPWS85Z0pkZ0IKTzJ3a05EbzZtN25lRkNZV2lHV0gyVm9mOGIvTFZvNHVSTytTbmk5NHpQSjhFKzBkYXZaTVVqNGlUZUVvQml5SwovSGVneVRuV0pzVmk4cGsyOW1GQUNLMW9MaXZ1ck51YVBqVHY4ckdJY0VHVHVQZlQrcFJFTTd5WnNFWDkrSHRMCjM4OEIrdkx6dXNwNDFDRjc4Tmd1OEMxTUdaMFhZdU1Hd01rZXBaNTdRemE1QWdNQkFBR2pmekI5TUE0R0ExVWQKRHdFQi93UUVBd0lGb0RBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVApBUUgvQkFJd0FEQWRCZ05WSFE0RUZnUVUwb053OEUvMkxtMnI3dklHUHVNNE1jclg4WVF3SHdZRFZSMGpCQmd3CkZvQVVpVTZXRXp6NlhudGtuQ1JqRVV3clhVUGdXK1V3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUQ1c0tIK0kKRUJCYzRIcWVsL0VDTDh6eW5VZnBnWXdoN1hBZk1HNDZpMmY4T2NHdWU0TDRrbXdROHUxci9CNUhLMU93QUJUWQpCQVo5VUt5b0FlMW42RlF1Y21waFZzTjQ4Q3JMdzEyL1RxYnVTblcydGwxMmoxWXY1dmVzWXhwUGgzaEhOdlNGCjdNWktrT3dpQXdMWnFJdm42WnlLZUh4VUI1T1laTWtzbU5ITTU1R2tJWi9hMUVFT2NFY01VZUhyamVtaGs3QzkKTzVjdWdsTCtCSE5XWkJjZkthVHRhMFhCZ2tRNXFMMU42b3l0d3hmYlNaeUpCYTB4bHRFNWpNbmYzTlV5SFByWQorSzA4enZXTXRoeXlwM0VPeG5ZaS9sUTBVWlcxY0FFdncvTEVFU1YyS3JBdktFQ0VvV3lWRkVWQ0pTOXRlN2tFCmpkMzl3Qnd3WjltM3kwUT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: |
    LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcGdJQkFBS0NBUUVBdnFkb1J4TWtVeHJoV0wyZWsrVWpCcTlqTkF4dUN1bTd1b1lOa1cvRWgyQk1DREFECk5lbEtGWTJYa3FhS0Z0Y21aSjU3cUlIQ3NZdFlQa25nZTFRVjRvMVFhZEx1L3M5WE5uWXcvNkVVVUhCL3NuQXkKZGpsMGFrUjJ4amV0aVk5Q205NEVHa2xaVVJHY0ZrWmptZVRTb01qclYrZ3hEYkVDRG1QL1lDWFlBVHRzSkRRNgpPcHU1M2hRbUZvaGxoOWxhSC9HL3kxYU9Ma1R2a3A0dmVNenlmQlB0SFdyMlRGSStJazNoS0FZc2l2eDNvTWs1CjFpYkZZdktaTnZaaFFBaXRhQzRyN3F6Ym1qNDA3L0t4aUhCQms3ajMwL3FVUkRPOG1iQkYvZmg3UzkvUEFmcnkKODdyS2VOUWhlL0RZTHZBdFRCbWRGMkxqQnNESkhxV2VlME0ydVFJREFRQUJBb0lCQVFDdGpHUSs5cXpGUFozTwpFdVhzU05PbWZUYjNwU3p5b0N0ME1oemR1L2tSSmxadnlZelNvV2IvMGFFZExKNWRCa0o3cTB4emFwTlkzTGhhCkV4UFdFQWZQNzhVNFgzdVExaHJVaDZnNHVsOXNqY3VnR2NQRm5LMWRJcTlmNWtVQkNEaWcrK3VPSmlDNHpDZmkKbXZhRm15Y2tsMkNyNTcvbmI2Nm9mTngxb0YxTldEOHNsUDNpM0Y4QTdXcDA3VnhxZTdtd1czZlFYNXJ2UjJGSwpNWTdndjZRWDBhYzBlWFZqWGMxZjlMN2kzVEJnamppVnU0U2dnNk1RSkIwWWhBNEZUUFdkcjd1aHhWS2VrTVZVClp2UjF0NmVsTjNCT3B6ODlWNXc1ckxtZzE3VEZETzhPUDdHbTNvbWtMNHRPUWNaTmgzbktUS0ViL3VXbUxZZ1QKa1RLRzVzS0JBb0dCQVBLODBnWm5YeG1PL3dDZFlncDltcFRPYUtwNDVkVjFLeVIxUERRcHZkem9LalhLV0VXdwpHYVA0REVBVHdVTms5VTB2alZYMDdJMVVkNnNYVUdBRU45VEtNU1c5TFEzZmllWmRBejBZSHRIOEFkeWhqZlprCkhQaklMcnhvWnE1Y2hpY2VqSm5kTmQrcURvSjRlQVQrcUFUUFZaWXB2cEwyWkdFM0FqT3RNakNSQW9HQkFNa1MKRjA1Z0cyOHkvSUFZK3dhakdmS0FDdlcvZ2dXNWpNdUttM1VxSndNL2c4ZFNVSjNqZEVTa2ZJQTI3Y293UzFTegp4ZGVRWE9wRlhqOHRaOGUzbXFUM0s3eWZkaHpJUVJhMTNVL3ZWMlA2RnpKZ3JDVGcwYTdLVUcxN3FZRzdsaloyCmNidnpVVlNkOFEzMm5YMm50eWNsS3U2NlFCeEtVQlNaY1dZS2tqZXBBb0dCQU1jbm1JSGNpakFrSEtCYWdEZnYKT2NiaFd3cVN5cTlKeEszUzZpUTZJeVo5N1RQWTRuZTZ0aTdMc3ZGWHcvY1JmQmxwN0dJYjQ0RkpUaTIzb1NCRwpGYkNtZTVCbEYvUUw5YzVsZmVUQVIza3RkREdhOHlpMmx2YWU5NGxwZHVXVDBCV0VnUU0wZGFFZW0yejhmaXhLCjYzdVd5TGU5WkRpYm8xd0hqK3pxS3dXaEFvR0JBTEk1RU9OdG1LT21BOTNmUnBJSmUvUlF2bVk1UzV5YmJVcjEKSHZwcFZJOHllekh2cW5sb3BTUTYwQWd0cC9ReGZuUWpyTmQzcElRYTNJRVBWQS9ZbElCb2ZpSUJEZ1pSRWpCNQpIeU85T0M3ci9DZXhQS1NyaWZCdWIzKzd2dkc1UGxvai9vZmtFbEQ0ZGpRMFJrQ2NxbUZPTnBISUVRK0NaeHo3CkxXS1BPQytSQW9HQkFJSzVFbWptbVIxQkdDWWVBOTYxMWg2dmFFTno3UitKZWhpRjRQS2d3SC9YdExSL1FpNmgKMVNvVUM4MlByS3pGNWNHTDNDeTM2dUZpWG5RVnd1Yi8yUFpKNHk5NzI5SExaTHhtcXRPWG8xVTNsV2UwVi9EdwppWElnVHVBbGtCb2hjOGZSZ1kzOHc4WklvZldqQ1BGL043Y1hYZFBScFU1Rld4LzB2bnIvS01SOQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=
---
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: prometheus-grafanadatasource
  namespace: grafana
spec:
  datasource:
    access: proxy
    editable: true
    isDefault: true
    jsonData:
      httpHeaderName1: 'Authorization'
      timeInterval: 5s
      tlsSkipVerify: true
    name: Prometheus
    secureJsonData:
      # oc create token grafana-sa --duration=8760h -n grafana
      httpHeaderValue1: 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IlNsSHEyLWdJNmdGS2tfOUpEWkNvZDdzajFOUFl4ZUhtaURYaHh1bjJvQ3cifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjIl0sImV4cCI6MTczMTgzNjE3NCwiaWF0IjoxNzAwMzAwMTc0LCJpc3MiOiJodHRwczovL2t1YmVybmV0ZXMuZGVmYXVsdC5zdmMiLCJrdWJlcm5ldGVzLmlvIjp7Im5hbWVzcGFjZSI6ImdyYWZhbmEiLCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZ3JhZmFuYS1zYSIsInVpZCI6IjVhZDEyZTQ5LTBmZDEtNDRhZC05NWNkLThiMTcxNTJlZjU5NSJ9fSwibmJmIjoxNzAwMzAwMTc0LCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6Z3JhZmFuYTpncmFmYW5hLXNhIn0.q2BiFZIbDffIcsUPfMzEC2wXesuWTRN11lDs3AxaxLg3j6lqV1vghtv2a7Rw9vz2l8sD6aHzpSzcnJzDPI1-ov_omAQfnT68gCCigJL8NpF-MET_sQ8YpUJwTTB-FdMIWDsHnDfdye6HTVAsNN2ACWMCJppugDrI00UAhlNdYHvZc-k5Vr7bLujUg1lrQiqMM9nm5hCHMltyUwGx_UGsf-9yOPmDiRMwKoD9n7e4KjXz8WOMmhHsTRU2ViQTO9ChLVmdU-MirRm2kY1u4DkrMTkaHlL6Epx4KznY_-9Pjxq7cZohM7LPI4P-3HNp8saTfTYHuMPUP16BWRq5Nq1lizev7s5XNVMi2zN32nrTeB-F1H_qqxycUmdGV1i-7XSJMpIfSfHsiBVCpDuyBB6XFXFMy28crDtvjY3sXms3BYUIPl1TeoXjl6IHZ5qngvrDEWr4Z4gmqFhnd4pcvuniYCcJZanwfOEzfOiHo0k3qsaLH3ymp3yV1HqMNlQEcVTcjnAkZF6yPQx3vo3AFU0tvRWpLxMQwlYAiTjbsbyEvP6vnDv0MJrOJr85W-WH_Rh-hG-pLkHGSt6P4g3ppdLUHnTkUTXtj-rZ6oOxcj8B-qY8FlFOopipNY6PszXTRoGSCRYoolxKCoTLE9Ozvh9tt3g05IzWDBCYwBxp2LM2ZRM'
    type: prometheus
    url: 'https://thanos-querier.openshift-monitoring.svc.cluster.local:9091'
  instanceSelector:
    matchLabels:
      dashboards: grafana
