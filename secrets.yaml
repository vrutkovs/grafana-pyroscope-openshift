---
apiVersion: v1
kind: Secret
metadata:
  name: kubeapi-certs
  namespace: pyroscope
data:
  # Extract from admin kubeconfig
  tls.crt: |
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURaekNDQWsrZ0F3SUJBZ0lJV01rayt0OTZRWmd3RFFZSktvWklodmNOQVFFTEJRQXdOakVTTUJBR0ExVUUKQ3hNSmIzQmxibk5vYVdaME1TQXdIZ1lEVlFRREV4ZGhaRzFwYmkxcmRXSmxZMjl1Wm1sbkxYTnBaMjVsY2pBZQpGdzB5TXpFeE1qUXhNakkxTXpWYUZ3MHpNekV4TWpFeE1qSTFNelphTURBeEZ6QVZCZ05WQkFvVERuTjVjM1JsCmJUcHRZWE4wWlhKek1SVXdFd1lEVlFRREV3eHplWE4wWlcwNllXUnRhVzR3Z2dFaU1BMEdDU3FHU0liM0RRRUIKQVFVQUE0SUJEd0F3Z2dFS0FvSUJBUURkZ2VqR2RyQ2NrRG5qY08xWElUR09pMFJybnpTRmhBSUJLaDQ3R3pjLwpXMkF2ZDFWekI5eDcwN00xU0hBcEFoZ2s0U0V4WDdPQW1DZWx4aTFMVDVlU084VUVpTXd0ZUdxRngzWkp0VlVDCjR1MHZhYm9FOUV5SXZlZVB4VjNOU3prMDJrMFJ0blpjemljbGY1NzRXc1laK1kvUzR5eDZtR3lyNUNRdU95UkwKQmFXbnBuZVBDUUdWdUUxWVJ5dWQxL3B3L1BCRkhFM3ZBcDkra0lyVE9SbHN1K0grVnZqcmFsWUZJMndPUjI0awpOeTdDaVpxYW51QTZQNVpyUERIeXlHOVZCdWRlWCtuZUlxZmdTSGVmS3FKVVNxRDcxc2ptV29pTmJzelpDRXVVCk93YkhkcFA0a3RIVDE5TTBDMEk3bzlacWlXOWh1dlErYW9TUzk3aDJZSy96QWdNQkFBR2pmekI5TUE0R0ExVWQKRHdFQi93UUVBd0lGb0RBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEQVlEVlIwVApBUUgvQkFJd0FEQWRCZ05WSFE0RUZnUVVsaVhPb0paQnBZR1pJZTFPQkNqNGZhakt0Qmt3SHdZRFZSMGpCQmd3CkZvQVVZcDlmTXlJOG9UZXBkT2VqdThvVGpkUE92Nll3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQUJCaHUxWU0KYm0ySFhlZjYzM01JYm95UFo1S3lOSUs5d0RPWS9kOEsyaDFqV1g4eC9LS2hPRWtCWVFva0JkYWxBcFE2YzNvdQpFVUVVbTV0S0VlMTAzSGNzV044d2did2ZDbWI5cWlud0JjZ2paYmZ3L3dIdml0cEZpMWN2VUNHczVscXh6Wmx1CnRTS1JEaSt0VzRKWGpUYmZ5UDFGQnREWmYxaGUwVWN1R1JNRzFJRVdBckRRVzd3V2lVdy9mRFFmcWJjTU05dmMKeUczNmUwMEtJOVF5ZkN2SVFCY3pKZXMrdEhpaGV0Zmh1ZDIyeENZNWJYazg3RzFmSXpXTzIrN2RwVG5DYW9XbgpJN3BjTTZvc0g4dW9zZm53OEoyM2UxNWRnN2NsbWZjTjdzaTRKUERaUjU5YlZkOG9QNmpUWDdjeHh5R1hESEx6Cm5aZXRsS2twTnQvNnRMZz0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
  tls.key: |
    LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBM1lIb3huYXduSkE1NDNEdFZ5RXhqb3RFYTU4MGhZUUNBU29lT3hzM1AxdGdMM2RWCmN3ZmNlOU96TlVod0tRSVlKT0VoTVYremdKZ25wY1l0UzArWGtqdkZCSWpNTFhocWhjZDJTYlZWQXVMdEwybTYKQlBSTWlMM25qOFZkelVzNU5OcE5FYloyWE00bkpYK2UrRnJHR2ZtUDB1TXNlcGhzcStRa0xqc2tTd1dscDZaMwpqd2tCbGJoTldFY3JuZGY2Y1B6d1JSeE43d0tmZnBDSzB6a1piTHZoL2xiNDYycFdCU05zRGtkdUpEY3V3b21hCm1wN2dPaitXYXp3eDhzaHZWUWJuWGwvcDNpS240RWgzbnlxaVZFcWcrOWJJNWxxSWpXN00yUWhMbERzR3gzYVQKK0pMUjA5ZlROQXRDTzZQV2FvbHZZYnIwUG1xRWt2ZTRkbUN2OHdJREFRQUJBb0lCQUJJTGtrWVF4MFNKNzExYgpCc3JSVm5NeFgwcVJOcnNselBBQldXTWhUWGZvM3NZZko2UHVZUVRwY3pFRkRMWWFpSk1Ba0M2d2lEUVNzVEF0CkcrV0Z2MmhYWEM2SlluRFYzWCsyaHlsc0QxZmoyc1RCRFRsNEdZQU9VSDRDNnloZFYzUzUwQXVBWE5Za3FVWEIKeHRhZXRvTEpOUEZPTm9KcVJuZ2VadUFwUzBTZE0xSVd6NUM4Q3dlRGJBblZKeHhMZVNqRGZPWndKeGFjZ25jTgpPVFpUdVB2SG9CUE13cFJGaEowd1kxSFlhSHBpcDZYclJ3S3l1WG40d3ljL01YVUhycGpwdE11MzV0bU1QVU9hCldITUtEVC9jeHVZWXdsUUNVYTQxSE5LSTUvR1pzQkpLZHU1Uy9rSitTT0FqSTZqREtpaGthQnpPeTNhQUNTbGgKQWpvZ3Axa0NnWUVBK1ArcEVReTJXM1VHTGhqSlNIL1pJM1VnS0JDMm5wMmZZWmQrTWJGWW9rZ0dPS0RDKy9EQgp4ZzZ5b2pRV21CeVdLaEZNaEVTd1JSdjlFZXdCU0EyZVZZQ2YrTkJvbWdXMmVwSTVZNDJOZ2ZpbGxNTjlYQUlRCjM3QmVXN1dKWC9CbDIwanZ5UDVDejRhaCtMZmh5YUVQRzlMNGhVelRxTGowTFRDVGFPNklFSjBDZ1lFQTQ3eGMKcE5FUzc1dGdNdGpTMndwTzhOMXVnKzNFQmZraCtyODlyblNMU3dHVTYxS3prWVlXOGxINXFKekg5TG9qRGZlSgpGd0lVOVBEOEJzWXRtUmNlNWhCcmMvbjJPdEo0L1FjYzd1UE1ZK3dkSyt1bHNTSm1EM01DeG1pekJLVWxIZUN6ClU3RFBiZmpMUHJucmIwNXlRZUNwUzlibzZZd2FjSEVhb2NHNTljOENnWUJLRDVrVTVpZ1RXZUpsc1oray9jbnoKSHZKYW1HWUpGYThEVXhFSTdNd0ZNTkVRNU5nNklha3hKTXdETE9VUGgya3V5QWh2U3hMMjYxVkJrR1h0TFlmTAp2TDlZUFh6dld3V2t2WHR1WGZzYURvQUptSC9mN3dsZnoxQ3hqSFI0NGNNYUR6NnJGTjJBWm5Za3lXVFNHU0txClR2ejJnUnh2a2R1bTJVenZLQXUyalFLQmdGQnlwc3QySzlsR3F1bnJYRGtTWUNhSUlsVXFkZGVpVlZXTm53MTAKa0F3MEI5WkZSYmUvaFhXZWJiSVppQzAwWDlPOFFNcEc2djVIN3MrNXpEdkxSaGdCYnVQdVJnUXJlNS91bGxMeApWNjlvcGpsd3FmeHo2VmZGeWhJcXhDcDg2Q3F3eU1oa3FqSHY5R1E1S3lrTHJpTUZhT2lvaDJpUkhIbmlDb1ZmCnVRQlRBb0dCQUlsRXgrS3gyeW13T3NLMGRCQitNdnVjTUFSd0hTWThPb1YyY2lqY2RCOHJMWmVjR0k5Umk1dHkKOGZ5c2s4dGo1VDFMMW1zWXAxZVRCK2NTTWwvaTJ3OFpZL05BbHFLOGpjRFZOb3JVdTJNYVdWZGw5ejZoVjZZUwp2ZFV2b1RhYk5GS3RhcDBobXVlbEMrZ2ladTdFdXZtVUF3bHlEWTRXRU5acTNyVzR6QVEvCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tCg==
---
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDatasource
metadata:
  name: prometheus-grafanadatasource
  namespace: grafana
spec:
  datasource:
    access: proxy
    editable: true
    isDefault: true
    jsonData:
      httpHeaderName1: 'Authorization'
      timeInterval: 5s
      tlsSkipVerify: true
    name: Prometheus
    secureJsonData:
      # oc create token grafana-sa --duration=8760h -n grafana
      httpHeaderValue1: 'Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IjUtN29lb0JySFZwMlg2bDhUZjNtd1VWc1BnOTNzZk1LWHFKNzFDR2Z1RlUifQ.eyJhdWQiOlsiaHR0cHM6Ly9rdWJlcm5ldGVzLmRlZmF1bHQuc3ZjIl0sImV4cCI6MTczMjM2NzQ3NCwiaWF0IjoxNzAwODMxNDc0LCJpc3MiOiJodHRwczovL2t1YmVybmV0ZXMuZGVmYXVsdC5zdmMiLCJrdWJlcm5ldGVzLmlvIjp7Im5hbWVzcGFjZSI6ImdyYWZhbmEiLCJzZXJ2aWNlYWNjb3VudCI6eyJuYW1lIjoiZ3JhZmFuYS1zYSIsInVpZCI6IjcwZTExZWNlLTBkYjgtNDg0NS1iODQ4LTU1NDVkZDNmZWNlNSJ9fSwibmJmIjoxNzAwODMxNDc0LCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6Z3JhZmFuYTpncmFmYW5hLXNhIn0.JJkhskRrlv0iXwmh8fyTMN2nVghHefJ8eJczbJDTbwBVwhRZsoAt3oLazYi6nDdJTuFzbinF8HCj0lMC9W2LWY7Y7xyuWCt9AsnYWvAjiG_yK-OYvklWPwSHdOIyhdSWoDFANzUSN-ri1Xw-QWWefAUdggKvlwHHgaUgafuIznBv16w7UghWCOOfdlvmDFQaSqbCBwVGZew-Moqr-AWCA7pBIT6-IaoRXNb9A2iQyhwzWAnAYWG74XUPBl6sZz0z8RkstXmtDGlt1SWcGR5TRq5PhCpafE1a6kly-2DLEicBgDFRF0m7KrDj5rDXq3vR_3FIeBedEMWqsgl1Ak_P1SoKykjQQG_VjY6qw0GA15a9QMEXExpXP2lT5YeMXyiyTCwdXKQ4uTjR-XML-CDv5GJ3C18OfHpaOSB3AnbzrCAZq8wVKzWl5Bm_lI4jGi2bc-KVCHq-vY7j5jskY_d7b2H0F31PwkcRl4AT1QR1R1v92r-8JZ1qVyyhSlFDorGK-X-Sg83BKU_Je_v0QAPCFP8SQE-f0AYRzC14CzlkADYA2yjlX4cy_Th8-rmKU3FA130dbZSW8exxmRCicfT91bdPu2XWFZ4u95QcMdgQN7PfkFOV8yxvmmYlgblQ_dum52frEXxnJR1yMPsrjD6-Qk_3xNSkcKGZtHCyd6uRkLw'
    type: prometheus
    url: 'https://thanos-querier.openshift-monitoring.svc.cluster.local:9091'
  instanceSelector:
    matchLabels:
      dashboards: grafana
